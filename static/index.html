<html>
<head> 
	<title>Trump Or Not?</title>
	<link rel="stylesheet" href="/main.css">
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display+SC" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display+SC" rel="stylesheet">
	<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
	<link rel="icon" href="img/favicon.ico" type="image/x-icon">
</head>
<body>
	<div id = "header">
		<h1><b>TrumpOrNot?</b></h1>
		<h4>Did the 45th President of the United States of America tweet this?</h4>
	</div>

<div id = "main">
	<div id = "tweetBox">
		<div id = "topTweet">
		<div id = "ppic">
		<img src = "img/profilePic.jpg" class="profilePic">
		</div>
		<div id = "nameTweet">
		<a href="https://twitter.com/realDonaldTrump">Donald J. Trump</a>
		<img src = "img/veri.jpeg" class="verified">
		<p>@realDonaldTrump</p>
		</div>
		</div>
		<div id= "mainContent">
			<p id="tweetText"></p>
		</div>
		<div id= "tweetBottom">
			<p id = "timestamp">12:08 PM - 1 Dec 2017</p>
			<img src = "img/twitter-foot.png">
		</div>
	</div>

	<div id = "yesOrNo">
		<button id = "yes">Trump!</button>
		<button id = "no">Not Trump!</button>
	</div>

		<p id = "trueMessage"></p>
		<p id = "falseMessage"> This is not from <b>The Donald's </b> twitter...</p>

	<div id = "nextTweet">
		<button id ="renewTweet">New Tweet</button>
	</div>
</div>
</div>
	<footer>Â© Copyright 2017 - Created by a group of passionate students in the UK</footer>


	<script>
rand = {};
var getRand = function () {
	var req = new XMLHttpRequest();
	req.open("GET", "/random");
	req.onreadystatechange = (function () {
		if (this.readyState === 4) {
			console.log(req);
			populate(JSON.parse(req.response));
		}
	}).bind(req);
	req.send();
}

var populate = function (response) {
	rand = response;
	document.getElementById("tweetText").innerHTML = response.content;
	document.getElementById("timestamp").innerHTML = response.timestamp;
}

var trumpButton = function (truth) {
	document.getElementById("yes").style.display = 'none';
	document.getElementById("no").style.display = 'none';
	document.getElementById("renewTweet").style.display = 'inline-block';
	var correctness = truth === rand.isTrump ? "Right! " : "Wrong! ";
	document.getElementById("trueMessage").innerHTML = correctness + "<b>The Donald</b> has tweeted this...";
	document.getElementById("falseMessage").innerHTML = correctness + "This is not from <b>The Donald's</b> twitter.";
	if (rand.isTrump == "TRUE") {
		document.getElementById("trueMessage").style.display = 'block';
	} else {
		document.getElementById("falseMessage").style.display = 'block';
	}
}
var renewPage = function () {
	document.getElementById("yes").style.display = 'initial';
	document.getElementById("no").style.display = 'initial';
	document.getElementById("renewTweet").style.display = 'none';
	document.getElementById("falseMessage").style.display = 'none';
	document.getElementById("trueMessage").style.display = 'none';
}
document.getElementById("yes").addEventListener("click", trumpButton.bind(this, "TRUE"));
document.getElementById("no").addEventListener("click", trumpButton.bind(this, "FALSE"));
document.getElementById("renewTweet").addEventListener("click", renewPage);
document.getElementById("renewTweet").addEventListener("click", getRand.bind(window));
getRand();
	</script>

</body>
</html>
